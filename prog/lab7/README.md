## helios
- psql -h pg studs
- password -> .pgpass
- \*:\* :\*:login:PaSsw0rD
AMfn8yvLHeB4tvsL
## –ê–ª–≥–æ—Ä–∏—Ç–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é DriverManager.getConnection(...); - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç –∫–ª–∞—Å—Å–∞ Connection
- —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞ —á–µ—Ä–µ–∑ –º–µ—Ç–æ–¥ connection.createStatement() - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç Statement 
- statement.executeQuery("SELECT ...") - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç ResultSet
- –ø—Ä–æ—Ö–æ–¥–∏–º –ø–æ result.next() - –ø–æ–ª—É—á–µ–Ω–∏–µ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö - –≤ –∫–∞–∂–¥–æ–º —Ü–∏–∫–ª–µ —Ä–µ–∞–ª–∏–∑—É–µ—Ç –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É –∑–∞–ø—Ä–æ—Å–∞
- –∑–∞–∫—Ä—ã—Ç–∏–µ
## DriverManager

#### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–æ–º –¥—Ä–∞–π–≤–µ—Ä–æ–≤

##### –ó–∞–≥—Ä—É–∑–∫–∞ –¥—Ä–∞–π–≤–µ—Ä–∞:

* `Class.forName("org.postgresql.Driver");`
* `-Djdbc.drivers=org.postgresql.Driver` (—É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ JVM)

---

#### –ú–µ—Ç–æ–¥ `Connection getConnection(String url, ...)`

##### –ü—Ä–∏–º–µ—Ä URL:

* `jdbc:protocol://host:port/database`
* `jdbc:postgresql://db:5432/studs`

---

#### –ú–µ—Ç–æ–¥ `getConnection(String url, Properties info)`

```java
Properties info = new Properties();
info.load(new FileInputStream("db.cfg"));

Connection conn = DriverManager.getConnection(
    "jdbc:postgresql://db:5432/studs", info);
```

---

#### –ú–µ—Ç–æ–¥ `getConnection(String url, String user, String password)`

```java
Connection conn = DriverManager.getConnection(
    "jdbc:postgresql://db:5432/studs", "5999999", "sss999");
```


## Connection-interface
–º–µ—Ç–æ–¥—ã
	Statement <- createStatement();
	PreparedStatement <- prepareStatement(String sql);
	CallableStatement <- prepareCall(String sql);
	DatabaseMetaData <- getMetaData();
## –°–µ–º–µ–π—Å—Ç–≤–æ Statement-interface

`Statement`¬†‚Äî —ç—Ç–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤ JDBC, —Å –ø–æ–º–æ—â—å—é –∫–æ—Ç–æ—Ä–æ–≥–æ —Ç—ã –æ—Ç–ø—Ä–∞–≤–ª—è–µ—à—å SQL-–∑–∞–ø—Ä–æ—Å—ã –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö.
- ÔªøÔªøaddBatch(String sql)
- ÔªøÔªøclearBatch()
- ÔªøÔªøexecuteBatch()
#### Statement 
—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π sql-–∑–∞–ø—Ä–æ—Å
–∑–∞–ø—Ä–æ—Å –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã–π –∏ –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
```java
Statement st = connection.createStatement();
ResultSet rs = st.executeQuery("SELECT ...");
```
- **–£—è–∑–≤–∏–º –¥–ª—è SQL-–∏–Ω—ä–µ–∫—Ü–∏–π**
	    –∫–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –≤ –ø–æ–ª–µ –≤–≤–æ–¥–∞ –Ω–∞–ø–∏—Å–∞—Ç—å –Ω–µ —Ç—Ä–µ–±—É–µ–º–æ–µ –æ—Ç –Ω–µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏–µ, –∞ –∫–∞–∫–æ–π-—Ç–æ –∑–∞–ø—Ä–æ—Å –Ω–∞ –≤—ã–≤–æ–¥ –∫–∞–∫–∏—Ö-—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–π –∏–∑ –±–¥
- **–ù–µ–ª—å–∑—è –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —á–µ—Ä–µ–∑¬†`?`**
	    —Ç–∞–∫–æ–µ –≤–æ–∑–º–æ–∂–Ω–æ –≤ –ø—Ä–µ–ø–µ–∏—Ä–¥ —Å—Ç—ç–π—Ç–º–µ–Ω—Ç
- –ü–æ–≤—Ç–æ—Ä–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏ –∑–∞–ø—Ä–æ—Å–∞ = –º–µ–¥–ª–µ–Ω–Ω–æ –∏ –æ–ø–∞—Å–Ω–æ 
#### PreparedStatement
–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∑–∞–ø—Ä–æ—Å —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
–ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç sql-–∏–Ω—ä–µ–∫—Ü–∏–∏ - —Å–ª–µ–¥–∏—Ç –∑–∞ —Ç–∏–ø–æ–º –¥–∞–Ω–Ω—ã—Ö –∏ —ç–∫—Ä–∞–Ω–∏—Ä—É–µ—Ç —Å–ø–µ—Ü—Å–∏–º–≤–æ–ª—ã
```java 
PreparedStatement ps = connection.prepareStatement("SELECT * FROM table WHERE id = ?");
ps.setInt(1,15) // 1- param number; 15-value
ResultSet rs = pstmt.executeQuery();
```
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**¬†(SQL-–∏–Ω—ä–µ–∫—Ü–∏–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç)
	    —Ç–∞–∫ –∫–∞–∫ –≤–≤–æ–¥–∏–º –∏–Ω–¥–µ–∫—Å –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∏ –∑–Ω–∞—á–µ–Ω–∏–µ 
- **–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**¬†(–±–∞–∑–∞ –º–æ–∂–µ—Ç –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å –ø–ª–∞–Ω –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è)
	    –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –∑–∞–ø–æ–º–∏–Ω–∞–µ—Ç –∑–∞–ø—Ä–æ—Å 
- **–¢–∏–ø–∏–∑–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤**
#### CallableStatement extends PreparedStatement
–≤—ã–∑–æ–≤ —Ö—Ä–∞–Ω–∏–º–æ–π –ø—Ä–æ—Ü–µ–¥—É—Ä—ã
```java 
CallableStatement cstmt = connection.prepareCall("{call get_user(?)}");
cstmt.setInt(1, 5);
ResultSet rs = cstmt.executeQuery();
```
–ß–∞—â–µ —é–∑–∞–µ—Ç—Å—è –≤ —ç–Ω—Ç–µ—Ä–ø—Ä–∞–π–∑–µ –∏–ª–∏ —Å–ª–æ–∂–Ω–æ–π –ª–æ–≥–∏–∫–µ –≤ –ë–î
#### ResultSet
–ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ ResultSet

```java
ResultSet rs = preparedStatement.executeQuery();
while (rs.next()) {
String name = rs.getString(1); // –ø–æ –Ω–æ–º–µ—Ä—É —Å—Ç–æ–ª–±—Ü–∞
int id = rs.getInt("id"); // –ø–æ –∏–º–µ–Ω–∏ —Å—Ç–æ–ª–±—Ü–∞
}
```
–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è¬†`ResultSet`, –∏ –º–æ–∂–Ω–æ¬†**–ø–æ—Å—Ç—Ä–æ—á–Ω–æ**¬†—á–∏—Ç–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã.

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é ‚Äî¬†**–æ–¥–Ω–æ–ø—Ä–æ—Ö–æ–¥–Ω—ã–π (`TYPE_FORWARD_ONLY`)**.
–º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –≤–æ—Ç —Ç–∞–∫-—Å:
```java
Statement stmt = conn.createStatement(
    ResultSet.TYPE_SCROLL_INSENSITIVE, 
    ResultSet.CONCUR_READ_ONLY
);
```
### –¢–∏–ø—ã –ø—Ä–æ–∫—Ä—É—Ç–∫–∏:

- `TYPE_FORWARD_ONLY`¬†‚Äî —Ç–æ–ª—å–∫–æ –≤–ø–µ—Ä—ë–¥ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
    
- `TYPE_SCROLL_INSENSITIVE`¬†‚Äî –º–æ–∂–Ω–æ –Ω–∞–∑–∞–¥ –∏ –≤–ø–µ—Ä—ë–¥, –Ω–æ¬†**–Ω–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω**¬†–∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º –ë–î
    
- `TYPE_SCROLL_SENSITIVE`¬†‚Äî —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω –∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º –ë–î
    

### –¢–∏–ø—ã –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏:

- `CONCUR_READ_ONLY`¬†‚Äî —Ç–æ–ª—å–∫–æ —á–∏—Ç–∞—Ç—å
    
- `CONCUR_UPDATABLE`¬†‚Äî –º–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å –¥–∞–Ω–Ω—ã–µ –ø—Ä—è–º–æ –≤¬†`ResultSet`
### –º–µ—Ç–æ–¥—ã execute...();
`ResultSet executeQuery(String sql)`
	–¥–ª—è –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥—ã `SELECT`
	–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç `ResultSet`
	String sql
		–∑–∞–ø—Ä–æ—Å –¥–ª—è `Statement`
		–æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –¥–ª—è `PreparedStatement` –∏ `CallableStatement`
`int executeUpdate(String sql)`
	–¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ `INSERT, UPDATE, DELETE`
	–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–∑–º–µ–Ω–µ–Ω–Ω—ã—Ö —Å—Ç—Ä–æ–∫
	–î–ª—è –∫–æ–º–∞–Ω–¥ DDL –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 0
`boolean execute(String sal)`
	–¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ª—é–±—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
	true, –µ—Å–ª–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç ‚Äî `ResultSet : ResultSet getResultSet()`
	false, –µ—Å–ª–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç ‚Äî `updateCount : int getUpdateCount)`

## –ú–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å. –ö–ª–∞—Å—Å¬†`Thread`, –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å¬†`Runnable`. –ú–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä¬†`synchronized`.
–ú–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å¬†**–Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–∞–¥–∞—á –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ**.  
–í Java —ç—Ç–æ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –¥–≤—É–º—è –æ—Å–Ω–æ–≤–Ω—ã–º–∏ —Å–ø–æ—Å–æ–±–∞–º–∏:

- –ù–∞—Å–ª–µ–¥–æ–≤–∞—Ç—å –∫–ª–∞—Å—Å¬†`Thread`
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å¬†`Runnable`
---

#### üßµ –ö–ª–∞—Å—Å ~~–Ω–∏—Ç–∫–∏~~¬†`Thread`

–¢—ã —Å–æ–∑–¥–∞—ë—à—å¬†**–Ω–æ–≤—ã–π –ø–æ—Ç–æ–∫**, —Ä–∞—Å—à–∏—Ä—è—è (`extends`) –∫–ª–∞—Å—Å¬†`Thread`, –∏ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—à—å –º–µ—Ç–æ–¥¬†`run()`.

```java
class MyThread extends Thread {
    @Override
    public void run() {
        System.out.println("–ü–æ—Ç–æ–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç: " + Thread.currentThread().getName());
    }
}

Thread t = new MyThread();
t.start();
```
start() –∑–∞–ø—É—Å–∫–∞–µ—Ç –Ω–æ–≤—ã–π –ø–æ—Ç–æ–∫, run() ‚Äî –ø—Ä–æ—Å—Ç–æ –º–µ—Ç–æ–¥.
–µ—Å–ª–∏ —Å–¥–µ–ª–∞—Ç—å t.run(), —Ç–æ —ç—Ç–æ –±—É–¥–µ—Ç –≤ —Ç–æ–º –∂–µ –ø–æ—Ç–æ–∫–µ, –≥–¥–µ —Ç—ã –Ω–∞—Ö–æ–¥–∏—à—å—Å—è, —Ç–æ –µ—Å—Ç—å —Ä–∞–Ω –Ω–µ —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π –ø–æ—Ç–æ–∫ –≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç —Å—Ç–∞—Ä—Ç–∞. 

`Thread`, –µ—Å–ª–∏:

- –Ω–∞–¥–æ¬†**–ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –º–µ—Ç–æ–¥–∞–º¬†`Thread`¬†–Ω–∞–ø—Ä—è–º—É—é**¬†(–Ω–∞–ø—Ä–∏–º–µ—Ä,¬†`getId()`,¬†`getState()`).
-¬†**–Ω–µ—Ç –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –¥–ª—è –¥—Ä—É–≥–∏—Ö —Ü–µ–ª–µ–π**.

#### –æ—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã
| –ú–µ—Ç–æ–¥             | –ß—Ç–æ –¥–µ–ª–∞–µ—Ç                                                        | –ì–¥–µ —á–∞—Å—Ç–æ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è                                    |
| ----------------- | ----------------------------------------------------------------- | -------------------------------------------------------- |
| `start()`         | –ó–∞–ø—É—Å–∫–∞–µ—Ç –ø–æ—Ç–æ–∫ (–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –≤—ã–∑—ã–≤–∞–µ—Ç `run()`)                     | –í—Å–µ–≥–¥–∞ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –Ω–æ–≤–æ–≥–æ –ø–æ—Ç–æ–∫–∞                         |
| `run()`           | –ú–µ—Ç–æ–¥, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –∫–æ–¥ –ø–æ—Ç–æ–∫–∞ (–≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ `start()`)        | –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∏–ª–∏ —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è –≤ Runnable              |
| `sleep(ms)`       | –ó–∞—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ—Ç–æ–∫ "—É—Å–Ω—É—Ç—å" –Ω–∞ X –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥                        | –¢–∞–π–º–µ—Ä—ã, –∑–∞–¥–µ—Ä–∂–∫–∏, —Å–∏–º—É–ª—è—Ü–∏—è –æ–∂–∏–¥–∞–Ω–∏—è                    |
| `join()`          | –û–∂–∏–¥–∞–µ—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –¥—Ä—É–≥–æ–≥–æ –ø–æ—Ç–æ–∫–∞                                 | –ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –¥–æ–∂–¥–∞—Ç—å—Å—è, –ø–æ–∫–∞ –¥—Ä—É–≥–æ–π –ø–æ—Ç–æ–∫ –∑–∞–≤–µ—Ä—à–∏—Ç —Ä–∞–±–æ—Ç—É |
| `isAlive()`       | –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –∂–∏–≤ –ª–∏ –ø–æ—Ç–æ–∫ (–µ—â—ë –Ω–µ –∑–∞–≤–µ—Ä—à–∏–ª—Å—è)                       | –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–æ—Ç–æ–∫–∞                                |
| `interrupt()`     | –ü—Ä–µ—Ä—ã–≤–∞–µ—Ç –ø–æ—Ç–æ–∫ (–≤ –æ—Å–Ω–æ–≤–Ω–æ–º, –µ—Å–ª–∏ –æ–Ω –≤ –æ–∂–∏–¥–∞–Ω–∏–∏ –∏–ª–∏ —Å–Ω–µ)          | –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–æ—Ç–æ–∫–∞                              |
| `setPriority()`   | –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ø–æ—Ç–æ–∫–∞ (1 –¥–æ 10)                          | –†–µ–¥–∫–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è ‚Äî JVM –º–æ–∂–µ—Ç –∏–≥–Ω–æ—Ä–∏—Ç—å                  |
| `currentThread()` | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—É—â–∏–π –ø–æ—Ç–æ–∫                                          | –ü–æ–ª–µ–∑–Ω–æ –≤ –ª–æ–≥–∞—Ö, –¥–µ–±–∞–≥–µ                                  |


---

#### –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å¬†`Runnable`

–õ—É—á—à–∏–π —Å–ø–æ—Å–æ–±: —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å¬†`Runnable`, –∞ –ø–æ—Ç–æ–º –ø–µ—Ä–µ–¥–∞—Ç—å –æ–±—ä–µ–∫—Ç¬†`Runnable`¬†–≤¬†`Thread`.

```java
class MyRunnable implements Runnable {
    @Override
    public void run() {
        System.out.println("–†–∞–±–æ—Ç–∞–µ—Ç Runnable: " + Thread.currentThread().getName());
    }
}

Runnable r = new MyRunnable();
Thread t = new Thread(r);
t.start();
//–∏–ª–∏ —Ç–∞–∫
Thread t = new Thread(() -> System.out.println("–ß–µ—Ä–µ–∑ –ª—è–º–±–¥—É!"));
t.start();
```

`Runnable`, –∫–æ–≥–¥–∞:
- –∫–ª–∞—Å—Å¬†**—É–∂–µ –Ω–∞—Å–ª–µ–¥—É–µ—Ç —á—Ç–æ-—Ç–æ –¥—Ä—É–≥–æ–µ**¬†(–≤ Java —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ)
- —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –æ—Ç –∑–∞–ø—É—Å–∫–∞ –ø–æ—Ç–æ–∫–∞
- –¥–ª—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞ (–ø–µ—Ä–µ–¥–∞—Ç—å¬†`Runnable`¬†–≤ ExecutorService)

---

#### `synchronized`

`synchronized`¬†‚Äî —ç—Ç–æ¬†**–º–µ—Ö–∞–Ω–∏–∑–º —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏**, –∫–æ—Ç–æ—Ä—ã–π¬†**–ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–º—É —É—á–∞—Å—Ç–∫—É –∫–æ–¥–∞**.
–º–æ–Ω–∏—Ç–æ—Ä –æ—Ç–¥–∞–µ—Ç—Å—è –ø–æ—Ç–æ–∫—É —Å –∫–∞–∫–æ–≥–æ-—Ç–æ —É—á–∞—Å—Ç–∫–∞ –∫–æ–¥–∞. 
–ï—Å–ª–∏ –º–æ–Ω–∏—Ç–æ—Ä –∑–∞–Ω—è—Ç ‚Äî –ø–æ—Ç–æ–∫ –∂–¥—ë—Ç.
–æ–¥–∏–Ω –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä –µ—Å—Ç—å —É –∫–∞–∂–¥–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞. –æ–Ω –Ω–∏–≥–¥–µ –Ω–µ –ø—Ä–æ–ø–∏—Å–∞–Ω, –Ω–æ jvm —Å –ø–æ–º–æ—â—å—é –Ω–µ–≥–æ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç –ø–æ—Ç–æ–∫–∏. 

##### –ü—Ä–∏–º–µ—Ä —Å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–º —É—á–∞—Å—Ç–∫–æ–º:
```java
class Counter {
    private int count = 0;

    public synchronized void increment() {
        count++; // —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω –Ω–∞ —É—Ä–æ–≤–Ω–µ¬†`this`, —Ç.–µ. –Ω–∞¬†–æ–±—ä–µ–∫—Ç–µ, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –º–µ—Ç–æ–¥.
    }

    public synchronized int getCount() {
        return count;
    }
}
//–∏–ª–∏ —Ç–∞–∫
public void increment() {
	System.out.println("–∑–¥–µ—Å—å –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ—Ç–æ–∫–æ–≤");
    synchronized (this) { // —è–≤–Ω–æ–µ —É–∫–∞–∑–∞–Ω–∏–µ, —á—Ç–æ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø–æ¬†–º–æ–Ω–∏—Ç–æ—Ä—É —Ç–µ–∫—É—â–µ–≥–æ –æ–±—ä–µ–∫—Ç–∞
        count++;
        System.out.println("–∑–¥–µ—Å—å –º–æ–∂–µ—Ç –±—ã—Ç—å –æ–¥–∏–Ω –ø–æ—Ç–æ–∫");
    }
}
```

–µ—Å–ª–∏ –≤ –∫–ª–∞—Å—Å–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π. –∏ –≤—Å—ë —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –Ω–∞¬†`this`¬†‚Äî –æ–Ω–∏ –¥—Ä—É–≥ –¥—Ä—É–≥–∞ —Ç–æ—Ä–º–æ–∑—è—Ç.  
–ù–∞¬†`lock1`¬†–∏¬†`lock2`¬†‚Äî¬†**—Ä–∞–±–æ—Ç–∞—é—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ**.
```java
private final Object lock1 = new Object();
private final Object lock2 = new Object();

public void read() {
    synchronized (lock1) {
        // —á–∏—Ç–∞–µ—Ç
    }
}

public void write() {
    synchronized (lock2) {
        // –ø–∏—à–µ—Ç
    }
}
```

---

#### –≤–º–µ—Å—Ç–µ

```java
class ResponseSender implements Runnable {
    @Override
    public void run() {
        sendResponse();
    }

    private synchronized void sendResponse() {
        System.out.println("–û—Ç–≤–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω: " + Thread.currentThread().getName());
    }
}

Thread responseThread = new Thread(new ResponseSender());
responseThread.start();
```

- `Runnable`¬†= –ª–æ–≥–∏–∫–∞
- `Thread`¬†= –º–µ—Ö–∞–Ω–∏–∑–º –∑–∞–ø—É—Å–∫–∞
- `synchronized`¬†= –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (–æ–¥–∏–Ω –ø–æ—Ç–æ–∫ –∑–∞ —Ä–∞–∑)

---
## –ú–µ—Ç–æ–¥—ã¬†`wait()`,¬†`notify()`¬†–∫–ª–∞—Å—Å–∞¬†`Object`, –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã¬†`Lock`¬†–∏¬†`Condition`.

- —Ä–∞–±–æ—Ç–∞—é—Ç¬†**—Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏¬†`synchronized`¬†–±–ª–æ–∫–∞**.
- –ø–æ–∑–≤–æ–ª—è—é—Ç –ø–æ—Ç–æ–∫–∏¬†**–∫–æ–æ—Ä–¥–∏–Ω–∏—Ä–æ–≤–∞—Ç—å**,¬†**–∂–¥–∞—Ç—å –¥—Ä—É–≥ –¥—Ä—É–≥–∞**,¬†**–ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ**, –∏¬†**—Ä–∞–±–æ—Ç–∞—Ç—å –≤ –∫–æ–º–∞–Ω–¥–µ**¬†–±–µ–∑ –±–∞–≥–æ–≤ –∏ –≥–æ–Ω–æ–∫.
- –ù–µ –ø—Ä–æ—Å—Ç–æ ‚Äú–∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –¥–æ—Å—Ç—É–ø‚Äù, –∞¬†**–æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –ø–æ —Å–ª–æ–∂–Ω—ã–º –ø—Ä–∞–≤–∏–ª–∞–º**.
#### wait()
```java
obj.wait();
```
- **–û—Ç–ø—É—Å–∫–∞–µ—Ç –º–æ–Ω–∏—Ç–æ—Ä obj**, –∏ –ø–æ—Ç–æ–∫ —É—Ö–æ–¥–∏—Ç –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –æ–∂–∏–¥–∞–Ω–∏—è
- –ñ–¥—ë—Ç, –ø–æ–∫–∞ –∫—Ç–æ-—Ç–æ¬†**–≤—ã–∑–æ–≤–µ—Ç¬†`obj.notify()`¬†–∏–ª–∏¬†`obj.notifyAll()`**
#### notify()`¬†–∏¬†`notifyAll()

```java
obj.notify();      // –ø—Ä–æ–±—É–∂–¥–∞–µ—Ç –æ–¥–∏–Ω –ø–æ—Ç–æ–∫, –∫–æ—Ç–æ—Ä—ã–π –∂–¥–∞–ª –Ω–∞ obj
obj.notifyAll();   // –ø—Ä–æ–±—É–∂–¥–∞–µ—Ç –≤—Å–µ—Ö –∂–¥—É—â–∏—Ö –Ω–∞ obj
```
- –ü–æ—Ç–æ–∫–∏ –ø—Ä–æ—Å—ã–ø–∞—é—Ç—Å—è, –Ω–æ¬†**–Ω–µ —Å—Ä–∞–∑—É –∑–∞—Ö–≤–∞—Ç—ã–≤–∞—é—Ç –º–æ–Ω–∏—Ç–æ—Ä**¬†‚Äî –æ–Ω–∏¬†**–∂–¥—É—Ç, –ø–æ–∫–∞ –æ–Ω –æ—Å–≤–æ–±–æ–¥–∏—Ç—Å—è**
## –ö–ª–∞—Å—Å—ã-—Å–∏—Ö—Ä–æ–Ω–∏–∑–∞—Ç–æ—Ä—ã –∏–∑ –ø–∞–∫–µ—Ç–∞¬†`java.util.concurrent`.
| –ö–ª–∞—Å—Å                        | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                                                             | –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å                                                          | –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è                                          |
| ---------------------------- | ---------------------------------------------------------------------- | --------------------------------------------------------------------------- | ------------------------------------------------------------- |
| **`ReentrantLock`**          | –Ø–≤–Ω–∞—è –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ `synchronized`, —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è, —Ç–∞–π–º–∞—É—Ç–∞ | –ö–æ–≥–¥–∞ –Ω—É–∂–µ–Ω –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –±–ª–æ–∫–∏—Ä–æ–≤–∫–æ–π, `tryLock()`, `lockInterruptibly()`    | `lock.lock(); try { ... } finally { lock.unlock(); }`         |
| **`Semaphore`**              | –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ—Ç–æ–∫–æ–≤                          | –ù–∞–ø—Ä–∏–º–µ—Ä, –¥–æ—Å—Ç—É–ø –∫ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–º—É —á–∏—Å–ª—É —Ä–µ—Å—É—Ä—Å–æ–≤ (N –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π, N –ø–∞—Ä–∫–æ–≤–æ–∫) | `semaphore.acquire(); ... semaphore.release();`               |
| **`CountDownLatch`**         | –û–∂–∏–¥–∞–µ—Ç, –ø–æ–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ—Ç–æ–∫–æ–≤ –∑–∞–≤–µ—Ä—à–∞—Ç —Ä–∞–±–æ—Ç—É                        | –ö–æ–≥–¥–∞ –≥–ª–∞–≤–Ω—ã–π –ø–æ—Ç–æ–∫ –¥–æ–ª–∂–µ–Ω –¥–æ–∂–¥–∞—Ç—å—Å—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –¥—Ä—É–≥–∏—Ö                      | `latch.await();`<br>`latch.countDown();`                      |
| **`CyclicBarrier`**          | –û–∂–∏–¥–∞–µ—Ç, –ø–æ–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ—Ç–æ–∫–æ–≤ —Å–æ–±–µ—Ä—É—Ç—Å—è –≤ –æ–¥–Ω–æ–π —Ç–æ—á–∫–µ                | –ö–æ–≥–¥–∞ –ø–æ—Ç–æ–∫–∏ –¥–æ–ª–∂–Ω—ã —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ —Å—Ç–∞—Ä—Ç–æ–≤–∞—Ç—å (–∏–ª–∏ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å)                   | `barrier.await();`                                            |
| **`Exchanger`**              | –î–≤–∞ –ø–æ—Ç–æ–∫–∞ –æ–±–º–µ–Ω–∏–≤–∞—é—Ç—Å—è –¥–∞–Ω–Ω—ã–º–∏                                        | –ö–æ–≥–¥–∞ –¥–≤–∞ –ø–æ—Ç–æ–∫–∞ –¥–æ–ª–∂–Ω—ã –ø–µ—Ä–µ–¥–∞—Ç—å –¥—Ä—É–≥ –¥—Ä—É–≥—É –æ–±—ä–µ–∫—Ç—ã                         | `obj = exchanger.exchange(obj);`                              |
| **`Phaser`**                 | –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π `CyclicBarrier` —Å —Ñ–∞–∑–∞–º–∏                                   | –°–ª–æ–∂–Ω—ã–µ —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏–µ –±–∞—Ä—å–µ—Ä—ã, –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Ç–æ–∫–æ–≤                | `phaser.arriveAndAwaitAdvance();`                             |
| **`StampedLock`**            | –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Å –º–µ—Ç–∫–∞–º–∏, –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ –∏ –±—ã—Å—Ç—Ä–æ–µ —á—Ç–µ–Ω–∏–µ                      | –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –±—ã—Å—Ç—Ä–æ–µ —á—Ç–µ–Ω–∏–µ, –Ω–æ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –æ—Ç–∫–∞—Ç–∞ –ø—Ä–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–µ           | `long stamp = lock.readLock();`                               |


## –ú–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä¬†`volatile`. –ê—Ç–æ–º–∞—Ä–Ω—ã–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö –∏ –æ–ø–µ—Ä–∞—Ü–∏–∏.

`volatile`¬†‚Äî –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π, –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É—é—â–∏–π:
- **–í—Å–µ–≥–¥–∞ —á–∏—Ç–∞—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ –ø–∞–º—è—Ç–∏**, –∞ –Ω–µ –∏–∑ –∫—ç—à–∞ –ø–æ—Ç–æ–∫–∞
- **–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –≤–∏–¥–Ω—ã –≤—Å–µ–º –ø–æ—Ç–æ–∫–∞–º —Å—Ä–∞–∑—É**

**–ê—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç—å**¬†‚Äî —ç—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—è, —á—Ç–æ –æ–ø–µ—Ä–∞—Ü–∏—è¬†**–≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è —Ü–µ–ª–∏–∫–æ–º**, –±–µ–∑ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –±—ã—Ç—å –ø—Ä–µ—Ä–≤–∞–Ω–∞ –¥—Ä—É–≥–∏–º –ø–æ—Ç–æ–∫–æ–º –ø–æ—Å–µ—Ä–µ–¥–∏–Ω–µ.
- –Ω–∞—Ä—É—à–∞–µ—Ç—Å—è –∞—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç—å -> –≥–æ–Ω–∫–∞ –¥–∞–Ω–Ω—ã—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä –≤ –º–µ—Ç–æ–¥–µ, –≤ –∫–æ—Ç–æ—Ä–æ–º –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç, —Ç–∞–∫ –∫–∞–∫ –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç —ç—Ç–æ —Ç—Ä–∏ –¥–µ–π—Å—Ç–≤–∏—è)
- –≥–æ–Ω–∫–∞ –¥–∞–Ω–Ω—ã—Ö 
	–±–µ–∑ –∞—Ç–æ–º–∞—Ä–Ω—ã—Ö —Ç–∏–ø–æ–≤ –¥–≤–∞ –ø–æ—Ç–æ–∫–∞ –∑–∞–π–¥—É—Ç –≤ –º–µ—Ç–æ–¥ –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∏—Ä–≤–∞–Ω–∏—è, –≤ –∫–æ—Ç–æ—Ä–æ–º –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –±—ã–ª–æ 0. –Ω–∞ –≤—ã—Ö–æ–¥–µ –¥–∞–¥—É—Ç 1, —Ç–∞–∫ –∫–∞–∫ –Ω–µ —Å–æ–±–ª—é–¥–µ–Ω–∞ –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –∞—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç—å 

| –ö–ª–∞—Å—Å                | –ß—Ç–æ —Ö—Ä–∞–Ω–∏—Ç       | –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è                           |
| -------------------- | ---------------- | ---------------------------------------------- |
| `AtomicInteger`      | `int`            | –°—á—ë—Ç—á–∏–∫–∏, ID-—à–Ω–∏–∫–∏, –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–π –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç |
| `AtomicLong`         | `long`           | –¢–∞–π–º–µ—Ä—ã, –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–ª–∏–Ω–Ω—ã—Ö ID                  |
| `AtomicBoolean`      | `boolean`        | –§–ª–∞–≥–∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–æ—Ç–æ–∫–∞, —Å–æ—Å—Ç–æ—è–Ω–∏–µ "–≤–∫–ª/–≤—ã–∫–ª"   |
| `AtomicReference<T>` | –°—Å—ã–ª–∫–∞ –Ω–∞ –æ–±—ä–µ–∫—Ç | –û–±–º–µ–Ω –æ–±—ä–µ–∫—Ç–∞–º–∏ –º–µ–∂–¥—É –ø–æ—Ç–æ–∫–∞–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫—ç—à) |
| `AtomicIntegerArray` | –ú–∞—Å—Å–∏–≤ `int`     | –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –º–∞—Å—Å–∏–≤—É —á–∏—Å–µ–ª –∏–∑ –ø–æ—Ç–æ–∫–æ–≤   |

---

## –ö–æ–ª–ª–µ–∫—Ü–∏–∏ –∏–∑ –ø–∞–∫–µ—Ç–∞¬†`java.util.concurrent`.
–ø–æ—á–µ–º—É –Ω—É–∂–Ω—ã —Ç–∞–∫–∏–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏?
- `ArrayList.add()`¬†–∏¬†`HashMap.put()`¬†–Ω–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã
- –º–æ–∂–µ—Ç –±—ã—Ç—å¬†**–≥–æ–Ω–∫–∞ –¥–∞–Ω–Ω—ã—Ö**,¬†**—Å–ª–æ–º–∞–Ω–Ω—ã–µ —Å—Å—ã–ª–∫–∏**,¬†**–∏—Å–∫–∞–∂–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è**¬†(infinite loop, null)

| –ö–æ–ª–ª–µ–∫—Ü–∏—è               | –¢–∏–ø –¥–∞–Ω–Ω—ã—Ö      | –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏                                               | –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å                                        |
| ----------------------- | --------------- | --------------------------------------------------------- | --------------------------------------------------------- |
| `ConcurrentHashMap`     | `Map<K, V>`     | –ü–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–∞—è `HashMap` —Å —Å–µ–≥–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –±–ª–æ–∫–∏—Ä–æ–≤–∫–æ–π | –ß–∞—Å—Ç—ã–π –¥–æ—Å—Ç—É–ø –∫ –∫–ª—é—á–∞–º –∏ –∑–Ω–∞—á–µ–Ω–∏—è–º, –±–µ–∑ –ø–æ–ª–Ω–æ–π –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ |
| `CopyOnWriteArrayList`  | `List<E>`       | –ö–æ–ø–∏—Ä—É–µ—Ç –º–∞—Å—Å–∏–≤ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏                      | –ß–∞—Å—Ç–æ–µ —á—Ç–µ–Ω–∏–µ, —Ä–µ–¥–∫–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ                           |
| `CopyOnWriteArraySet`   | `Set<E>`        | –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ `CopyOnWriteArrayList`, –Ω–æ –±–µ–∑ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤      | –¢–µ –∂–µ –∫–µ–π—Å—ã, –≥–¥–µ –Ω—É–∂–µ–Ω `Set`                              |
| `ConcurrentLinkedQueue` | `Queue<E>`      | –û—á–µ—Ä–µ–¥—å –Ω–∞ –æ—Å–Ω–æ–≤–µ **—Å–≤—è–∑–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞**, –Ω–µ–±–ª–æ–∫–∏—Ä—É—é—â–∞—è      | –ë—ã—Å—Ç—Ä—ã–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –æ—á–µ—Ä–µ–¥–∏                               |
| `ConcurrentLinkedDeque` | `Deque<E>`      | –î–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω—è—è –æ—á–µ—Ä–µ–¥—å, –Ω–µ–±–ª–æ–∫–∏—Ä—É—é—â–∞—è                       | –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å –∏ –∑–∞–±–∏—Ä–∞—Ç—å —Å –¥–≤—É—Ö —Å—Ç–æ—Ä–æ–Ω             |
| `LinkedBlockingQueue`   | `BlockingQueue` | –û—á–µ—Ä–µ–¥—å —Å **–±–ª–æ–∫–∏—Ä–æ–≤–∫–æ–π** –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º —Ä–∞–∑–º–µ—Ä–∞          | –ü—Ä–æ–¥—é—Å–µ—Ä‚Äì–∫–æ–Ω—Å—é–º–µ—Ä (producer-consumer)                     |
| `ArrayBlockingQueue`    | `BlockingQueue` | –û—á–µ—Ä–µ–¥—å —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –¥–ª–∏–Ω–æ–π, –Ω–∞ –º–∞—Å—Å–∏–≤–µ                | –ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º—ã–π –±—É—Ñ–µ—Ä                                      |
| `PriorityBlockingQueue` | `BlockingQueue` | –ü–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–∞—è –æ—á–µ—Ä–µ–¥—å —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º                    | –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∏, –æ—á–µ—Ä–µ–¥–∏ –∑–∞–¥–∞—á                               |
| `DelayQueue`            | `BlockingQueue` | –≠–ª–µ–º–µ–Ω—Ç—ã –ø–æ—è–≤–ª—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –∑–∞–¥–µ—Ä–∂–∫–∏                 | –¢–∞–π–º–µ—Ä—ã, –∫–µ—à–∏ —Å TTL                                       |
| `SynchronousQueue`      | `BlockingQueue` | –ö–∞–∂–¥—ã–π `put()` –∂–¥—ë—Ç `take()`, –∏ –Ω–∞–æ–±–æ—Ä–æ—Ç                  | –ü—Ä—è–º–æ–π –æ–±–º–µ–Ω –º–µ–∂–¥—É –ø–æ—Ç–æ–∫–∞–º–∏                               |
| `LinkedTransferQueue`   | `TransferQueue` | –ë—ã—Å—Ç—Ä–∞—è –æ—á–µ—Ä–µ–¥—å –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –º–µ–∂–¥—É –ø–æ—Ç–æ–∫–∞–º–∏     | –í—ã—Å–æ–∫–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞, –ø–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö –±–µ–∑ –æ—á–µ—Ä–µ–¥–∏             |

## –ü—É–ª—ã –ø–æ—Ç–æ–∫–æ–≤

> **Thread Pool**¬†‚Äî —ç—Ç–æ –∫–æ–ª–ª–µ–∫—Ü–∏—è –∑–∞—Ä–∞–Ω–µ–µ —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –ø–æ—Ç–æ–∫–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –∂–¥—É—Ç –∑–∞–¥–∞—á –∏ –∏—Å–ø–æ–ª–Ω—è—é—Ç –∏—Ö, –Ω–µ —Å–æ–∑–¥–∞–≤–∞—è—Å—å –∑–∞–Ω–æ–≤–æ.

—Å–æ–∑–¥–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `Executors`
```java
ExecutorService pool = Executors.newFixedThreadPool(4);
```
–ü–æ—Ç–æ–∫–∏ –≤–Ω—É—Ç—Ä–∏ –ø—É–ª–∞:
- **–∂–¥—É—Ç**¬†–∑–∞–¥–∞—á–∏,
- **–≤—ã–ø–æ–ª–Ω—è—é—Ç**,
- **–æ—Å–≤–æ–±–æ–∂–¥–∞—é—Ç—Å—è**, –Ω–æ¬†**–Ω–µ —É–º–∏—Ä–∞—é—Ç**.

| –ú–µ—Ç–æ–¥                                 | –û–ø–∏—Å–∞–Ω–∏–µ                                                    | –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å                              |
| ------------------------------------- | ----------------------------------------------------------- | ----------------------------------------------- |
| `Executors.newFixedThreadPool(n)`     | –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —á–∏—Å–ª–æ –ø–æ—Ç–æ–∫–æ–≤ (`n`)                           | –ù–µ—Å–∫–æ–ª—å–∫–æ –∑–∞–¥–∞—á –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ                    |
| `Executors.newSingleThreadExecutor()` | –û–¥–∏–Ω –ø–æ—Ç–æ–∫                                                  | –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–¥–∞—á                |
| `Executors.newCachedThreadPool()`     | –ë–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è, —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã–µ –ø–æ—Ç–æ–∫–∏ –ø–æ –º–µ—Ä–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ | –û—á–µ–Ω—å –º–Ω–æ–≥–æ –∫–æ—Ä–æ—Ç–∫–∏—Ö –∑–∞–¥–∞—á                      |
| `Executors.newScheduledThreadPool(n)` | –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞—á —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π –∏–ª–∏ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é              | –¢–∞–π–º–µ—Ä—ã, –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è –∑–∞–¥–∞—á–∏                   |
| `Executors.newWorkStealingPool()`     | –î–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º–∞, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `ForkJoinPool`                 | –î–ª—è —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã—Ö/—Ä–∞–∑–≤–µ—Ç–≤–ª—è—é—â–∏—Ö—Å—è –∑–∞–¥–∞—á (Java 8+) |

## –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã¬†`Executor`,¬†`ExecutorService`,¬†`Callable`,¬†`Future`
–ö–ª–∞—Å—Å¬†`Thread`¬†‚Äî —ç—Ç–æ¬†**–Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤–æ, –≤—Ä—É—á–Ω—É—é**.  
–ê¬†`Executor`¬†–∏ –∫–æ–º–ø–∞–Ω–∏—è ‚Äî —ç—Ç–æ¬†**–≥–∏–±–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—É–ª–∞–º–∏ –ø–æ—Ç–æ–∫–æ–≤**¬†–∏¬†**–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á**.  
–¢—ã –±–æ–ª—å—à–µ¬†**–Ω–µ —É–ø—Ä–∞–≤–ª—è–µ—à—å –ø–æ—Ç–æ–∫–∞–º–∏ –Ω–∞–ø—Ä—è–º—É—é**, –∞ –ø—Ä–æ—Å—Ç–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—à—å –∑–∞–¥–∞—á–∏ –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ.

| –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å / –ö–ª–∞—Å—Å | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                                                                    | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç? | –ü—Ä–∏–º–µ—Ä                       |
| ----------------- | ----------------------------------------------------------------------------- | --------------------- | ---------------------------- |
| `Executor`        | –ë–∞–∑–æ–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∑–∞–¥–∞—á (`Runnable`)                              | ‚ùå –Ω–µ—Ç                 | `executor.execute(runnable)` |
| `ExecutorService` | –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ `Executor` ‚Äî —É–º–µ–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º, –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å `Future` | ‚úÖ –¥–∞ (`Future`)       | `submit(callable)`           |
| `Callable<T>`     | –ó–∞–¥–∞—á–∞ —Å **–≤–æ–∑–≤—Ä–∞—Ç–æ–º –∑–Ω–∞—á–µ–Ω–∏—è** –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –≤—ã–±—Ä–æ—Å–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏—è             | ‚úÖ –¥–∞                  | `call()` ‚Üí `T`               |
| `Future<T>`       | –û–±—ë—Ä—Ç–∫–∞ –Ω–∞–¥ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º                                           | ‚úÖ –¥–∞ (–ø–æ–∑–∂–µ)          | `future.get()`               |

---

#### `Executor`

```java
Executor executor = Executors.newSingleThreadExecutor();
executor.execute(() -> System.out.println("–ó–∞–¥–∞—á–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞"));
```

* –ü—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å–∫–∞–µ—Ç `Runnable` –±–µ–∑ –≤–æ–∑–≤—Ä–∞—Ç–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
* –û—Å–Ω–æ–≤–∞ –≤—Å–µ–π —Å–∏—Å—Ç–µ–º—ã

---

#### `ExecutorService`

```java
ExecutorService service = Executors.newFixedThreadPool(3);
service.execute(() -> System.out.println("–ü–æ—Ç–æ–∫ –∏–∑ –ø—É–ª–∞"));

service.shutdown(); // –∑–∞–∫—Ä—ã–≤–∞–µ—Ç —Å–µ—Ä–≤–∏—Å –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á
```

–£–º–µ–µ—Ç:

* `submit(...)` ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `Future`
* `shutdown()` ‚Äî –º—è–≥–∫–æ –∑–∞–≤–µ—Ä—à–∞–µ—Ç
* `shutdownNow()` ‚Äî –∂—ë—Å—Ç–∫–æ –ø—Ä–µ—Ä—ã–≤–∞–µ—Ç
* `awaitTermination()` ‚Äî –∂–¥—ë—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

---

#### `Callable<T>`

```java
Callable<String> task = () -> "–ü—Ä–∏–≤–µ—Ç, –ê–ª–µ—Å—è!";
```

* –ö–∞–∫ `Runnable`, –Ω–æ:

  * –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ (`T`)
  * –ú–æ–∂–µ—Ç –∫–∏–¥–∞—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏—è

---

#### `Future<T>`

```java
ExecutorService service = Executors.newSingleThreadExecutor();

Future<String> future = service.submit(() -> "–ê–ª–µ—Å—è —É–º–Ω–∏—á–∫–∞");

String result = future.get(); // –±–ª–æ–∫–∏—Ä—É–µ—Ç, –ø–æ–∫–∞ –Ω–µ –±—É–¥–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
System.out.println(result);

service.shutdown();
```

##### –ú–µ—Ç–æ–¥—ã `Future`:

| –ú–µ—Ç–æ–¥           | –ß—Ç–æ –¥–µ–ª–∞–µ—Ç                             |
| --------------- | -------------------------------------- |
| `get()`         | –ë–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è, –ø–æ–∫–∞ –Ω–µ –ø–æ–ª—É—á–∏—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç |
| `get(timeout)`  | –ë–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è –¥–æ —Ç–∞–π–º–∞—É—Ç–∞                |
| `cancel(true)`  | –ü—Ä–µ—Ä—ã–≤–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ                   |
| `isDone()`      | –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –ª–∏ –∑–∞–¥–∞—á–∞         |
| `isCancelled()` | –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –æ—Ç–º–µ–Ω–µ–Ω–∞ –ª–∏ –∑–∞–¥–∞—á–∞          |

---
